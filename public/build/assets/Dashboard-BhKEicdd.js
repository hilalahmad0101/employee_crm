import{a as I,r as h,W as u,b as q,x as F,w as H,c as i,o as d,d as c,u as a,g as z,e as k,f as e,n as g,t as l,h as m,i as j,v as L,j as O,k as b,l as W,F as v,m as D,S as Z}from"./app-CtI6ytrw.js";import{_ as G}from"./ConfirmationDialog-CmfTa5lW.js";import{_ as M}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BMY48eBG.js";import{_ as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-BRWga55a.js";import{l as J,_ as K,a as Q}from"./LoadingSpinner-BvVXOVSU.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CqcZ9ye_.js";import"./RovingFocusGroup-cs4zbufj.js";import"./useForwardExpose-Cz1-p2dc.js";import"./createLucideIcon-BOsXuDeq.js";const R={class:"flex h-full flex-1 flex-col gap-6 p-6"},X={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6"},ee={class:"flex flex-col"},te={class:"text-3xl font-bold text-gray-900 dark:text-white mt-2"},re={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6"},ae={class:"flex flex-col"},se={class:"text-3xl font-bold text-gray-900 dark:text-white mt-2"},oe={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6"},ne={class:"flex flex-col"},de={class:"text-3xl font-bold text-gray-900 dark:text-white mt-2"},ie={class:"flex h-full flex-1 flex-col gap-6"},le={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},ge={class:"p-6 border-b border-gray-200 dark:border-gray-700"},ue={class:"flex flex-col sm:flex-row gap-4 items-center justify-between"},ce={class:"relative flex-1 max-w-md"},me={class:"flex items-center gap-3"},ye={class:"relative"},xe={class:"overflow-x-auto"},pe={key:1,class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},be={class:"bg-gray-50 dark:bg-gray-900"},fe={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},he={class:"px-6 py-4 whitespace-nowrap"},ke={class:"text-sm font-medium text-gray-900 dark:text-white"},ve={class:"px-6 py-4 whitespace-nowrap"},we={class:"text-sm text-gray-900 dark:text-white"},Ce={class:"px-6 py-4 whitespace-nowrap"},_e={class:"text-sm text-gray-900 dark:text-white"},Ne={key:0,class:"p-12 text-center"},Be={key:1,class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700"},Se={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},$e={class:"text-sm text-gray-700 dark:text-gray-300"},je={key:0},De={class:"flex items-center gap-2"},Me=["disabled"],Pe={class:"hidden sm:flex items-center space-x-1"},Ue=["onClick","disabled"],Ve={key:1,class:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400"},Ae={class:"sm:hidden px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-600"},Te={key:0},Ee=["disabled"],Ye={__name:"Dashboard",props:{companies:{type:Object,default:()=>({data:[],links:[],meta:{}})},totalCompanies:{type:Number,default:null},totalInvitation:{type:Number,default:null},totalUsers:{type:Number,default:null}},setup(s){const{props:o}=I(),x=h(!1);u.on("start",()=>{x.value=!0}),u.on("finish",()=>{x.value=!1});const y=q({search:o.filters.search||"",sortBy:o.filters.sortBy||"asc"}),f=s,N=J.debounce(()=>{u.get(route("companies.list"),y,{preserveState:!0,replace:!0})},300);function P(){u.get(route("companies.list"),y,{preserveState:!0,replace:!0})}const U=[{title:"Dashboard",href:"/dashboard"}],V=F({}),p=h(!1),B=h(null);function A(n){B.value=n,p.value=!0}const S=()=>{u.visit("/companies/create")},w=()=>{var t;const n=(t=f.companies.links)==null?void 0:t.find(r=>r.label==="&laquo; Previous");return(n==null?void 0:n.url)||null},C=()=>{var t;const n=(t=f.companies.links)==null?void 0:t.find(r=>r.label==="Next &raquo;");return(n==null?void 0:n.url)||null},T=()=>f.companies.links?f.companies.links.filter(n=>n.label!=="&laquo; Previous"&&n.label!=="Next &raquo;"):[],_=h(!1),E=()=>{V.delete(route("companies.delete",B.value),{preserveScroll:!0,onSuccess:()=>{p.value=!1}})};return H(()=>o.toast,n=>{n&&(_.value=!0,setTimeout(()=>_.value=!1,4e3))}),(n,t)=>(d(),i(v,null,[c(a(z),{title:"Dashboard"}),c(Y,{breadcrumbs:U},{default:k(()=>[e("div",R,[e("div",null,[e("h1",{class:g(["text-3xl font-bold text-gray-900 dark:text-white",a(o).auth.user.role=="admin"||a(o).auth.user.role=="company"?"":"hidden"])}," Dashboard",2)]),e("div",{class:g(["grid gap-6 md:grid-cols-3",a(o).auth.user.role=="admin"||a(o).auth.user.role=="company"?"":"hidden"])},[e("div",X,[e("div",ee,[t[7]||(t[7]=e("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Companies",-1)),e("span",te,l(s.totalCompanies),1)])]),e("div",re,[e("div",ae,[t[8]||(t[8]=e("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Employees",-1)),e("span",se,l(s.totalUsers),1)])]),e("div",oe,[e("div",ne,[t[9]||(t[9]=e("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Pending Invitations",-1)),e("span",de,l(s.totalInvitation),1)])])],2),e("div",ie,[t[25]||(t[25]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Companies")],-1)),e("div",le,[t[24]||(t[24]=e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Companies List")],-1)),e("div",ge,[e("div",ue,[e("div",ce,[t[10]||(t[10]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),j(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>y.search=r),onInput:t[1]||(t[1]=(...r)=>a(N)&&a(N)(...r)),type:"text",placeholder:"Search companies...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors duration-200"},null,544),[[L,y.search]])]),e("div",me,[e("div",ye,[j(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>y.sortBy=r),onChange:P,class:"appearance-none bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white rounded-md px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors duration-200"},t[11]||(t[11]=[e("option",{value:"",selected:"",disabled:""},"Select",-1),e("option",{value:"asc"},"Sort Name(A-Z)",-1),e("option",{value:"desc"},"Sort Name(Z-A)",-1)]),544),[[O,y.sortBy]]),t[12]||(t[12]=e("div",{class:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none"},[e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),e("div",{class:g(a(o).auth.user.role=="admin"||a(o).auth.user.role=="company"?"":"hidden")},[e("button",{onClick:S,class:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2"},t[13]||(t[13]=[e("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Create Company ")]))],2)])])]),e("div",xe,[x.value?(d(),W(K,{key:0,message:"Fetching data..."})):m("",!0),x.value?m("",!0):(d(),i("table",pe,[e("thead",be,[e("tr",null,[t[14]||(t[14]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Company Name ",-1)),t[15]||(t[15]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Email ",-1)),t[16]||(t[16]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Address ",-1)),e("th",{class:g([a(o).auth.user.role=="admin"||a(o).auth.user.role=="company"?"":"hidden","px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"])}," Action ",2)])]),e("tbody",fe,[(d(!0),i(v,null,D(s.companies.data,r=>(d(),i("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",he,[e("div",ke,l(r.name||"N/A"),1)]),e("td",ve,[e("div",we,l(r.email||"N/A"),1)]),e("td",Ce,[e("div",_e,l(r.address||"N/A"),1)]),e("td",{class:g(["px-6 py-4 whitespace-nowrap space-x-4",a(o).auth.user.role=="admin"||a(o).auth.user.role=="company"?"":"hidden"])},[c(a(Z),{href:`companies/${r.id}/edit`},{default:k(()=>[c(M,{class:"bg-green-400/50 text-white hover:bg-green-500 cursor-pointer"},{default:k(()=>t[17]||(t[17]=[b("Edit")])),_:1,__:[17]})]),_:2},1032,["href"]),c(M,{onClick:$=>A(r.id),variant:"",class:"hover:bg-red-500 bg-red-400/50 text-white cursor-pointer"},{default:k(()=>t[18]||(t[18]=[b("Delete")])),_:2,__:[18]},1032,["onClick"])],2)]))),128))])]))]),c(G,{open:p.value,"onUpdate:open":t[3]||(t[3]=r=>p.value=r),onConfirm:E,onCancel:t[4]||(t[4]=r=>p.value=!1),title:"Delete user?",message:"This will permanently delete the user."},null,8,["open"]),s.companies.data&&s.companies.data.length===0&&!x.value?(d(),i("div",Ne,[t[19]||(t[19]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),t[20]||(t[20]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"No companies found",-1)),t[21]||(t[21]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Get started by creating a new company. ",-1)),e("div",{class:g(a(o).auth.user.role=="admin"||a(o).auth.user.role=="company"?"":"hidden")},[e("button",{onClick:S,class:"mt-4 inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-md transition-colors duration-200"}," Create Your First Company ")],2)])):m("",!0),s.companies.data&&s.companies.data.length>0&&s.companies.links?(d(),i("div",Be,[e("div",Se,[e("div",$e,[s.companies.meta?(d(),i("span",je," Showing "+l(s.companies.meta.from||1)+" to "+l(s.companies.meta.to||s.companies.data.length)+" of "+l(s.companies.meta.total||s.companies.data.length)+" results ",1)):m("",!0)]),e("div",De,[e("button",{onClick:t[5]||(t[5]=r=>a(u).get(w())),disabled:!w(),class:g(["inline-flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",w()?"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 border border-gray-200 dark:border-gray-700 cursor-not-allowed"])},t[22]||(t[22]=[e("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),b(" Previous ")]),10,Me),e("div",Pe,[(d(!0),i(v,null,D(T(),(r,$)=>(d(),i(v,{key:$},[isNaN(r.label)?r.label==="..."?(d(),i("span",Ve," ... ")):m("",!0):(d(),i("button",{key:0,onClick:Ie=>a(u).get(r.url),disabled:!r.url,class:g(["px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",r.active?"bg-gray-600 text-white border border-gray-600":r.url?"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 border border-gray-200 dark:border-gray-700 cursor-not-allowed"])},l(r.label),11,Ue))],64))),128))]),e("div",Ae,[s.companies.meta?(d(),i("span",Te," Page "+l(s.companies.meta.current_page||1)+" of "+l(s.companies.meta.last_page||1),1)):m("",!0)]),e("button",{onClick:t[6]||(t[6]=r=>a(u).get(C())),disabled:!C(),class:g(["inline-flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",C()?"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 border border-gray-200 dark:border-gray-700 cursor-not-allowed"])},t[23]||(t[23]=[b(" Next "),e("svg",{class:"h-4 w-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),10,Ee)])])])):m("",!0)])]),c(Q,{show:_.value,message:a(o).toast},null,8,["show","message"])])]),_:1})],64))}};export{Ye as default};
